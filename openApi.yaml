openapi: 3.1.0
info:
  title: RadioX Health Portal API
  description: REST API for patient registration, login, appointment scheduling, and medical report viewing
  version: 1.0.0

servers:
  - url: http://localhost:8080

paths:
  /schedule:
    post:
      summary: Schedule appointment
      operationId: ScheduleAppointment
      requestBody:
        required: true
        content:
          application/json:
            example:
              serviceName: "ECG"
              date: "2023-11-15"
              time: "14:00"
              duration: 60
              location: "Jamaica Plain"
              patientName: "John Maker"
              doctorName: "Lorem Ipsum"
      responses:
        '200':
          description: Successful scheduling
          content:
            application/json:
              example:
                message: "Appointment scheduled successfully"
        '400':
          description: Bad Request
          content:
            application/json:
              example:
                error: "Invalid request body"

  /cancel/{id}:
    delete:
      summary: Cancel a scheduled appointment by ID
      operationId: CancelAppointment
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the scheduled appointment to be canceled
          example: 123
          schema:
            type: integer
      responses:
        '200':
          description: Successful cancellation
          content:
            application/json:
              example:
                message: "Appointment canceled successfully"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Appointment not found"

  /update/{id}:
    put:
      summary: Update scheduled appointment by ID
      operationId: UpdateService
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the scheduled appointment to be updated
          example: 123
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            example:
              serviceName: "Updated appointment"
              date: "2023-11-16"
              time: "15:30"
              duration: 90
              location: "Jamaica Plain"
              patientName: "John Maker"
              doctorName: "Lorem Ipsum"
      responses:
        '200':
          description: Successful update
          content:
            application/json:
              example:
                message: "Appointment information updated successfully"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Appointment not found"

  /viewscheduled/{id}:
    get:
      summary: View scheduled appointment information by ID
      operationId: ViewScheduledAppointment
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the scheduled appointment to view information
          example: 123
          schema:
            type: integer
      responses:
        '200':
          description: Successful retrieval
          content:
            application/json:
              example:
                serviceName: "ECG"
                date: "2023-11-15"
                time: "14:00"
                duration: 60
                location: "Jamaica Plain"
                patientName: "John Maker"
                doctorName: "Lorem Ipsum"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Appointment not found"

  /patientlogin:
    post:
      summary: Log in a patient
      requestBody:
        required: true
        content:
          application/json:
            example:
              username: patient1
              password: securepassword
      responses:
        '200':
          description: Successful login
          content:
            application/json:
              example:
                message: "Patient logged in successfully"
        '401':
          description: Unauthorized
          content:
            application/json:
              example:
                error: "Invalid credentials"

  /patientregistration:
    post:
      summary: Register a new patient
      operationId: RegisterPatient
      requestBody:
        required: true
        content:
          application/json:
            example:
              name: Patient 1
              dateOfBirth: "1990-01-01"
              phoneNumber: "+1234567890"
              address: "123 Main St, Cityville"
              gender: Male
              symptoms: "Fever, Headache"
              username: patient1
              password: securepassword
      responses:
        '200':
          description: Successful registration
          content:
            application/json:
              example:
                message: "Patient registered successfully"
        '400':
          description: Bad Request
          content:
            application/json:
              example:
                error: "Invalid request body"

  /patientregistration/delete/{id}:
    delete:
      summary: Delete a patient by ID
      operationId: DeletePatient
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the patient to be deleted
          example: 123
          schema:
            type: integer
      responses:
        '200':
          description: Successful deletion
          content:
            application/json:
              example:
                message: "Patient deleted successfully"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Patient not found"

  /patientregistration/update/{id}:
    put:
      summary: Update patient information by ID
      operationId: UpdatePatient
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the patient to be updated
          example: 123
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            example:
              name: Updated Name
              age: 31
              gender: Male
              contactNumber: "+1234567890"
      responses:
        '200':
          description: Successful update
          content:
            application/json:
              example:
                message: "Patient information updated successfully"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Patient not found"

  /patientregistration/viewinfo/{id}:
    get:
      summary: View patient information by ID
      operationId: ViewPatientInfo
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the patient to view information
          example: 123
          schema:
            type: integer
      responses:
        '200':
          description: Successful retrieval
          content:
            application/json:
              example:
                name: Patient 1
                dateOfBirth: "1990-01-01"
                phoneNumber: "+1234567890"
                address: "123 Main St, Cityville"
                gender: Male
                symptoms: "Fever, Headache"
                contactNumber: "+1234567890"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Patient not found"

  /patientviewreport/{id}:
    get:
      summary: View patient's medical report by ID
      operationId: ViewPatientReport
      parameters:
        - name: id
          in: path
          required: true
          description: ID of the patient to view the medical report
          example: 123
          schema:
            type: integer
      responses:
        '200':
          description: Successful retrieval
          content:
            application/json:
              example:
                reportDate: "2023-11-13"
                diagnosis: "Healthy"
                prescription: "No medication required"
        '404':
          description: Not Found
          content:
            application/json:
              example:
                error: "Medical report not found"

components:
  schemas:
    Patient:
      type: object
      properties:
        name:
          type: string
        dateOfBirth:
          type: string
          format: date
        phoneNumber:
          type: string
        address:
          type: string
        gender:
          type: string
        symptoms:
          type: string
        contactNumber:
          type: string
    Message:
      type: object
      properties:
        message:
          type: string
    Error:
      type: object
      properties:
        error:
          type: string
